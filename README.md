# 文件转移工具

这是一个简单易用的文件转移工具，可以扫描指定文件夹中的常用文件，并按照文件类型进行分类转移。

## 功能特点

- 自动扫描文件夹中的常用文件（图片、音乐、视频、文档、表格等）
- 按文件类型自动分类
- 支持复制或移动文件
- 安全跳过系统和缓存文件
- 图形化用户界面，操作简单直观

## 使用方法

### 方法1：使用批处理文件（推荐）
1. 双击运行 `run_file_transfer.bat` 文件
2. 在弹出的界面中操作

### 方法2：直接运行Python脚本
1. 打开命令提示符
2. 导航到工具所在目录
3. 运行命令：`python file_transfer_tool.py`

### 操作步骤

1. 双击运行 `run_file_transfer.bat` 启动工具
2. 选择源文件夹（包含要转移的文件）
3. 选择目标文件夹（文件将转移到此处）
4. 选择操作模式（复制或移动）
5. 选择是否按文件类型分类
6. 点击"开始转移"按钮

### 特殊功能

- **微信目录处理**：当检测到源文件夹是微信目录（包含"wechat"或"weixin"关键字）时，工具将自动只扫描msg文件夹，跳过其他微信数据文件夹
- **自定义文件类型选择**：通过复选框选择要扫描的文件类型，只有被选中的文件类型和用户临时设置的扩展名才会被扫描
- **严格文件类型筛选**：工具严格按照FILE_TYPES中定义的文件类型进行筛选，只处理常用文件类型（图片、音乐、视频、文档、表格、演示、压缩），其他所有文件类型都会被跳过
- **临时扫描类型**：用户可以输入任意扩展名（用逗号分隔），匹配到的文件将被归类为"临时类型"并参与转移操作
- **文件类型过滤**：工具会自动跳过代码格式文件和程序类文件，确保只处理普通媒体和文档文件
- **自动创建备份文件夹**：工具会在目标文件夹下自动创建一个"备份_年月日_时分秒"格式的新文件夹，所有转移的文件都会放入此文件夹中
- **目标文件夹保护**：当检测到目标文件夹位于源文件夹内时，工具会自动跳过目标文件夹及其子目录，避免无限循环

## 操作步骤

1. 选择源文件夹：点击"浏览"按钮选择要扫描的文件夹
   - 如果选择微信目录，工具将自动只扫描msg文件夹
2. 选择目标文件夹：点击"浏览"按钮选择文件要转移到的目标位置
   - 工具会自动在目标文件夹下创建一个"备份_年月日_时分秒"格式的新文件夹
3. 设置选项：
   - 转移模式：选择"复制"或"移动"
   - 按文件类型分类：勾选此项将在备份文件夹中按文件类型创建子文件夹
   - 文件类型选择：通过复选框选择要扫描的文件类型，可以使用"全选"或"全不选"按钮快速选择
   - （可选）输入临时扫描类型，用逗号分隔多个扩展名（如：.xyz,.abc）
   - 注意：如果目标文件夹在源文件夹内，工具会自动跳过目标文件夹及其子目录
4. 点击"开始转移"按钮开始处理文件

## 支持的文件类型

- **图片**：.jpg, .jpeg, .png, .gif, .bmp, .tiff, .webp, .svg, .ico, .heic
- **音乐**：.mp3, .wav, .flac, .aac, .ogg, .wma, .m4a
- **视频**：.mp4, .avi, .mkv, .mov, .wmv, .flv, .webm, .m4v, .3gp
- **文档**：.pdf, .doc, .docx, .txt, .rtf, .odt, .pages
- **表格**：.xls, .xlsx, .csv, .ods
- **演示**：.ppt, .pptx, .odp, .key
- **压缩**：.zip, .rar, .7z, .tar, .gz, .bz2
- **临时类型**：用户自定义的任意扩展名

注意：程序类文件（如.exe, .msi, .dmg等）和代码文件（如.py, .js, .html等）将被自动跳过，不会被转移。

## 安全机制

工具会自动跳过以下系统和敏感目录：
- $Recycle.Bin, System Volume Information, RECYCLER
- Windows, Program Files, Program Files (x86), ProgramData
- AppData, Temp, tmp, cache, Cache, .cache
- __pycache__, node_modules, .git, .svn

同时也会跳过以下文件类型：
- 隐藏文件和系统文件（如thumbs.db, desktop.ini等）
- 代码格式文件（如.py, .js, .html, .css, .java等）
- 程序类文件（如.exe, .msi, .dmg, .pkg, .deb, .rpm, .apk等）

确保只处理用户的普通媒体和文档文件，不会影响系统和软件的运行。

## 注意事项

1. 在移动文件前，请确保已备份重要文件
2. 处理大量文件时可能需要较长时间
3. 如果目标路径已存在同名文件，工具会自动重命名（添加数字后缀）
4. 可以随时点击"停止"按钮中止文件转移过程

## 系统要求

- Windows 操作系统
- Python 3.x
- tkinter（通常随Python一起安装）

## 打包说明

如果您想将此工具打包成独立的可执行文件（无需Python环境即可运行），请按照以下步骤操作：

### 安装PyInstaller

```bash
pip install pyinstaller
```

### 使用批处理文件打包（推荐）

1. 双击运行 `build_app.bat` 文件
2. 等待打包完成
3. 打包完成后，可执行文件将位于 `dist` 文件夹中

### 手动打包

1. 打开命令提示符
2. 导航到工具所在目录
3. 运行以下命令：

```bash
pyinstaller --onefile --windowed --name=FileTransferTool file_transfer_tool.py
```

### 运行打包后的程序

1. 双击运行 `启动文件转移工具.bat` 文件
2. 或直接运行 `dist\FileTransferTool.exe`

### 打包参数说明

- `--onefile`: 将所有依赖打包成单个可执行文件
- `--windowed`: 运行时不显示控制台窗口
- `--name=FileTransferTool`: 指定生成的可执行文件名称
- `file_transfer_tool.py`: 主程序文件

## 许可证

本工具为开源软件，可自由使用和修改。